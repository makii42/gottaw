workspace:
  base: /go
  path: src/github.com/makii42/gottaw

pipeline:
  build:
    image: golang:1.7
    commands: 
      - go get github.com/golang/mock/gomock
      - go get github.com/golang/mock/mockgen
      - go get github.com/Masterminds/glide
      - glide i -v
      - go generate $(glide novendor)
      - go test -cover $(glide novendor)
      - go build -v .
      - ./gottaw defaults
